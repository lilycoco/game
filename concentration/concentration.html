<!DOCTYPE html>
<html>
  <head>
    <title>tramp</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <script src="js/jquery-2.1.3.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <style>
    </style>
  </head>
  <body>
    <section>
      <div id="image">
      </div>
    </section>
    <script>

      // ＝＝＝＝＝＝＝＝＝＝
      // トランプ画像挿入
      // ＝＝＝＝＝＝＝＝＝＝

      const srcsSS=[
        "trump/gif/s01.gif",
        "trump/gif/s02.gif",
        "trump/gif/s03.gif",
        "trump/gif/s04.gif",
        "trump/gif/s05.gif",
        "trump/gif/s06.gif",
        "trump/gif/s07.gif",
        "trump/gif/s08.gif",
        "trump/gif/s09.gif",
        "trump/gif/s10.gif",
        "trump/gif/s11.gif",
        "trump/gif/s12.gif",
        "trump/gif/s13.gif"
    ]
      const srcsCC=[
          "trump/gif/c01.gif",
          "trump/gif/c02.gif",
          "trump/gif/c03.gif",
          "trump/gif/c04.gif",
          "trump/gif/c05.gif",
          "trump/gif/c06.gif",
          "trump/gif/c07.gif",
          "trump/gif/c08.gif",
          "trump/gif/c09.gif",
          "trump/gif/c10.gif",
          "trump/gif/c11.gif",
          "trump/gif/c12.gif",
          "trump/gif/c13.gif"
      ]
      const srcsHH=[
          "trump/gif/h01.gif",
          "trump/gif/h02.gif",
          "trump/gif/h03.gif",
          "trump/gif/h04.gif",
          "trump/gif/h05.gif",
          "trump/gif/h06.gif",
          "trump/gif/h07.gif",
          "trump/gif/h08.gif",
          "trump/gif/h09.gif",
          "trump/gif/h10.gif",
          "trump/gif/h11.gif",
          "trump/gif/h12.gif",
          "trump/gif/h13.gif"
      ]
      const srcsDD=[
        "trump/gif/d01.gif",
        "trump/gif/d02.gif",
        "trump/gif/d03.gif",
        "trump/gif/d04.gif",
        "trump/gif/d05.gif",
        "trump/gif/d06.gif",
        "trump/gif/d07.gif",
        "trump/gif/d08.gif",
        "trump/gif/d09.gif",
        "trump/gif/d10.gif",
        "trump/gif/d11.gif",
        "trump/gif/d12.gif",
        "trump/gif/d13.gif"
    ]
      const srcsB= "trump/gif/z01.gif";
      
      // let s = $(srcsSS).index();
      // let c = $(srcsSS).index();
      // let h = $(srcsSS).index();
      // let d = $(srcsSS).index();
      
      let imgS = [];
      let imgC = [];
      let imgH = [];
      let imgD = [];
      let imgB = [];

      // ＝＝＝＝＝＝＝＝＝＝
      // シャッフル
      // ＝＝＝＝＝＝＝＝＝＝

      function shuffle(array) {
          let n = array.length, t, i;
          while (n) {
            i = Math.floor(Math.random() * n--);
            t = array[n];
            array[n] = array[i];
            array[i] = t;
          }
          return array;
      }
        // srcsS = shuffle(srcsSS);
        // srcsC = shuffle(srcsCC);
        // srcsH = shuffle(srcsHH);
        // srcsD = shuffle(srcsDD);

        srcsS = srcsSS;
        srcsC = srcsCC;
        srcsH = srcsHH;
        srcsD = srcsDD;

      // ＝＝＝＝＝＝＝＝＝＝
      // トランプ画像表示
      // ＝＝＝＝＝＝＝＝＝＝

      $(window).on('load',function(){
    
        for (let i in srcsC) {
            imgS[i] = new Image();
            imgS[i].src = srcsS[i];
            $("#image").append( imgS[i] );
            $(imgS[i]).wrap('<span class="imgs"></span>');
            $(".imgs").css('position','relative');
          
            imgC[i] = new Image();
            imgC[i].src = srcsC[i];
            $("#image").append( imgC[i] );
            $(imgC[i]).wrap('<span class="imgc"></span>');
            $(".imgc").css('position','relative');

            imgH[i] = new Image();
            imgH[i].src = srcsH[i];
            $("#image").append( imgH[i] );
            $(imgH[i]).wrap('<span class="imgh"></span>');
            $(".imgh").css('position','relative');

            imgD[i] = new Image();
            imgD[i].src = srcsD[i];
            $("#image").append( imgD[i] );
            $(imgD[i]).wrap('<span class="imgd"></span>');
            $(".imgd").css('position','relative');

            
            // imgS[i] = imgC[i];

            // $('img').on('click',function(){
            //     $(this).attr('src',srcsB);
            //     // let n = $(this).index();
            //     // console.log(n);
            //     // alert(n);
            // }); 
          };
              
        // ＝＝＝＝＝＝＝＝＝＝
        // 裏面表示
        // ＝＝＝＝＝＝＝＝＝＝
          
        imgB= new Image();
        imgB.src = srcsB;

        $(imgB).css({'position':'absolute','left': '0'}); //back design
        // $(imgB).each(function(){  //なぜ？
            // $(".imgc").append(imgB); 
            // $(".imgh").append(imgB);  
            // $(".imgd").append(imgB);  
            // $(".imgs").append(imgB); 

            $(".imgs, .imgc, .imgh, .imgd").append(imgB);  
        // })

        console.log(imgB);

        // ＝＝＝＝＝＝＝＝＝＝
        // 裏返し
        // ＝＝＝＝＝＝＝＝＝＝
          let num = 0;
          $('img').on('click',function(){

              $(this).remove();

              $(this).data("click", ++num);
              let click = $(this).data("click");
              
              if(click == 1){
                  alert("1回目のクリック");
                  let s = $(this).index();
                  
                  // let c = $(this).index('.imgc');
                  // let h = $(this).index('.imgh');
                  // let d = $(this).index('.imgd');
                  
                  // console.log(c);
                  // console.log(h);
                  // console.log(d);
            
                }
              else if(click == 2){
                  alert("2回目のクリック");
                  let s = $(this).index();
                  
              }
              return false;
            })
        
      })

      
            //    $('.imgs').toggle(function(){
            //   // $(imgS[i]).attr("src",$(this).attr("href"));
            //   alert("1回目のクリック");
            // },function(){
            //   // $(imgS[i]).attr("src","../img/003.jpg");
            //   alert("2回目のクリック");
            // },function(){
            //   // $(imgS[i]).fadeOut("slow");
            //   alert("3回目のクリック");
            // });

      
      
    </script>
  </body>
</html>